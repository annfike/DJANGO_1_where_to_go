# Куда пойти — Москва глазами Артёма

Проект состоит из двух частей:
1. Сайт о самых интересных местах в Москве. Авторский проект Артёма.
2. Скрипт для загрузки данных в базу данных.


![Иллюстрация к проекту](https://github.com/annfike/DJANGO_1_where_to_go/blob/main/site.png)

[Демка сайта](https://annfike.pythonanywhere.com/).
 

## Необходимое окружение
Создайте файл .env в корневом каталоге и пропишите туда переменные окружения:
```
SECRET_KEY = секретный ключ проекта

Для отладки:
DEBUG = True
```

## Как установить
 - Python3 должен быть уже установлен.   
 - Затем используйте `pip` (или `pip3`, есть конфликт с Python2) для установки зависимостей:  
```python
pip install -r requirements.txt
   ```
 - Создайте базу данных
```
python manage.py migrate
```
 - Создайте суперпользователя для админки
```
python manage.py createsuperuser
```
- Запустите локальный сервер
```
python manage.py runserver
```

Для перехода на сайт воспользуйтесь ссылкой http://127.0.0.1:8000

Для управления базой данных перейдите по ссылке http://127.0.0.1:8000/admin

## Скрипт для загрузки данных в базу данных

В корневом каталоге создайте папку 'upload' для хранения файлов json с данными о местах в формате:
```
{
    "title": "Антикафе Bizone",
    "imgs": [
        "https://raw.githubusercontent.com/devmanorg/where-to-go-places/master/media/1f09226ae0edf23d20708b4fcc498ffd.jpg",
        "https://raw.githubusercontent.com/devmanorg/where-to-go-places/master/media/605da4a5bc8fd9a748526bef3b02120f.jpg"
    ],
    "description_short": "Настольные и компьютерные игры, виртуальная реальность и насыщенная программа мероприятий — новое антикафе Bizone предлагает два уровня удовольствий...",
    "description_long": "<p>Рядом со станцией метро «Войковская» открылось антикафе Bizone, в котором создание качественного отдыха стало делом жизни для всей команды. Создатели разделили пространство на две зоны, одна из которых доступна для всех посетителей, вторая — только для совершеннолетних гостей....",
    "coordinates": {
        "lng": "37.50169",
        "lat": "55.816591"
    }
}
   ```

Для загрузки данных из файлов в БД используйте команду:
```
python manage.py load_json
```
Если название вашей папки с файлами другое, используйте аргументы:
```
python manage.py load_json --dir путь до вашей папки
```

 
## Цели проекта

Код написан в учебных целях — это урок в курсе по Python и веб-разработке на сайте [Devman](https://dvmn.org).
